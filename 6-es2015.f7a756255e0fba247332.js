(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{szDL:function(l,t,e){"use strict";e.r(t);var n=e("8Y7J");class s{}var i=e("xYTU"),a=(e("GS7A"),e("KCVW")),o=e("dvZr"),r=e("7QIX"),u=e("QQfA"),c=e("zMNK"),h=e("XNiG"),b=e("1G5W"),d=e("IzEk");const p=20,f="mat-tooltip-panel";function m(l){return Error(`Tooltip position "${l}" is invalid.`)}const _=new n.p("mat-tooltip-scroll-strategy");function y(l){return()=>l.scrollStrategies.reposition({scrollThrottle:p})}const g=new n.p("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});class v{constructor(l,t,e,n,s,i,a,o,r,u,c,d){this._overlay=l,this._elementRef=t,this._scrollDispatcher=e,this._viewContainerRef=n,this._ngZone=s,this._ariaDescriber=a,this._focusMonitor=o,this._dir=u,this._defaultOptions=c,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this._message="",this._manualListeners=new Map,this._destroyed=new h.a,this._scrollStrategy=r;const p=t.nativeElement,f="undefined"==typeof window||window.Hammer||d;i.IOS||i.ANDROID?f||this._manualListeners.set("touchstart",()=>this.show()):this._manualListeners.set("mouseenter",()=>this.show()).set("mouseleave",()=>this.hide()),this._manualListeners.forEach((l,t)=>p.addEventListener(t,l)),o.monitor(t).pipe(Object(b.a)(this._destroyed)).subscribe(l=>{l?"keyboard"===l&&s.run(()=>this.show()):s.run(()=>this.hide(0))}),c&&c.position&&(this.position=c.position)}get position(){return this._position}set position(l){l!==this._position&&(this._position=l,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(l){this._disabled=Object(a.b)(l),this._disabled&&this.hide(0)}get message(){return this._message}set message(l){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=l?`${l}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(l){this._tooltipClass=l,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnInit(){const l=this._elementRef.nativeElement,t=l.style;"INPUT"!==l.nodeName&&"TEXTAREA"!==l.nodeName||(t.webkitUserSelect=t.userSelect=t.msUserSelect=""),l.draggable&&"none"===t.webkitUserDrag&&(t.webkitUserDrag="")}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._manualListeners.forEach((l,t)=>{this._elementRef.nativeElement.removeEventListener(t,l)}),this._manualListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.message),this._focusMonitor.stopMonitoring(this._elementRef)}show(l=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const t=this._createOverlay();this._detach(),this._portal=this._portal||new c.c(w,this._viewContainerRef),this._tooltipInstance=t.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Object(b.a)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(l)}hide(l=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(l)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_handleKeydown(l){this._isTooltipVisible()&&l.keyCode===o.e&&!Object(o.o)(l)&&(l.preventDefault(),l.stopPropagation(),this.hide(0))}_handleTouchend(){this.hide(this._defaultOptions.touchendHideDelay)}_createOverlay(){if(this._overlayRef)return this._overlayRef;const l=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),t=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(l);return t.positionChanges.pipe(Object(b.a)(this._destroyed)).subscribe(l=>{this._tooltipInstance&&l.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:t,panelClass:f,scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Object(b.a)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const l=this._overlayRef.getConfig().positionStrategy,t=this._getOrigin(),e=this._getOverlayPosition();l.withPositions([Object.assign({},t.main,e.main),Object.assign({},t.fallback,e.fallback)])}_getOrigin(){const l=!this._dir||"ltr"==this._dir.value,t=this.position;let e;if("above"==t||"below"==t)e={originX:"center",originY:"above"==t?"top":"bottom"};else if("before"==t||"left"==t&&l||"right"==t&&!l)e={originX:"start",originY:"center"};else{if(!("after"==t||"right"==t&&l||"left"==t&&!l))throw m(t);e={originX:"end",originY:"center"}}const{x:n,y:s}=this._invertPosition(e.originX,e.originY);return{main:e,fallback:{originX:n,originY:s}}}_getOverlayPosition(){const l=!this._dir||"ltr"==this._dir.value,t=this.position;let e;if("above"==t)e={overlayX:"center",overlayY:"bottom"};else if("below"==t)e={overlayX:"center",overlayY:"top"};else if("before"==t||"left"==t&&l||"right"==t&&!l)e={overlayX:"end",overlayY:"center"};else{if(!("after"==t||"right"==t&&l||"left"==t&&!l))throw m(t);e={overlayX:"start",overlayY:"center"}}const{x:n,y:s}=this._invertPosition(e.overlayX,e.overlayY);return{main:e,fallback:{overlayX:n,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(d.a)(1),Object(b.a)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(l){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=l,this._tooltipInstance._markForCheck())}_invertPosition(l,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===l?l="start":"start"===l&&(l="end"),{x:l,y:t}}}class w{constructor(l,t){this._changeDetectorRef=l,this._breakpointObserver=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new h.a,this._isHandset=this._breakpointObserver.observe(r.b.Handset)}show(l){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},l)}hide(l){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},l)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(l){const t=l.toState;"hidden"!==t||this.isVisible()||this._onHide.next(),"visible"!==t&&"hidden"!==t||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}class O{}var C=e("SVse"),k=e("POq0"),I=e("IP0z"),B=e("cUpR"),D=e("Xd0L"),j=e("/HVE"),M=e("5GAg"),x=e("hOhj"),L=n.qb({encapsulation:2,styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}@media (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"initial, void, hidden",styles:{type:6,styles:{opacity:0,transform:"scale(0)"},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)"},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:{type:5,steps:[{type:6,styles:{opacity:0,transform:"scale(0)",offset:0},offset:null},{type:6,styles:{opacity:.5,transform:"scale(0.99)",offset:.5},offset:null},{type:6,styles:{opacity:1,transform:"scale(1)",offset:1},offset:null}]},timings:"200ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms cubic-bezier(0, 0, 0.2, 1)"},options:null}],options:{}}]}});function T(l){return n.Mb(2,[(l()(),n.sb(0,0,null,null,4,"div",[["class","mat-tooltip"]],[[2,"mat-tooltip-handset",null],[24,"@state",0]],[[null,"@state.start"],[null,"@state.done"]],(function(l,t,e){var n=!0,s=l.component;return"@state.start"===t&&(n=!1!==s._animationStart()&&n),"@state.done"===t&&(n=!1!==s._animationDone(e)&&n),n}),null,null)),n.Hb(512,null,C.w,C.x,[n.r,n.s,n.k,n.D]),n.rb(2,278528,null,0,C.k,[C.w],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),n.Fb(131072,C.b,[n.h]),(l()(),n.Kb(4,null,["",""]))],(function(l,t){l(t,2,0,"mat-tooltip",t.component.tooltipClass)}),(function(l,t){var e,s=t.component;l(t,0,0,null==(e=n.Lb(t,0,0,n.Db(t,3).transform(s._isHandset)))?null:e.matches,s._visibility),l(t,4,0,s.message)}))}function P(l){return n.Mb(0,[(l()(),n.sb(0,0,null,null,1,"mat-tooltip-component",[["aria-hidden","true"]],[[4,"zoom",null]],[["body","click"]],(function(l,t,e){var s=!0;return"body:click"===t&&(s=!1!==n.Db(l,1)._handleBodyInteraction()&&s),s}),T,L)),n.rb(1,180224,null,0,w,[n.h,r.a],null,null)],null,(function(l,t){l(t,0,0,"visible"===n.Db(t,1)._visibility?1:null)}))}var S=n.ob("mat-tooltip-component",w,P,{},{},[]),R=e("pMnS");class F{get imageSource(){return`assets/images/${this.name}.svg`}}var E=n.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;position:relative;width:100%;margin:0;padding:100% 0 0}.icon[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;width:100%}"]],data:{}});function K(l){return n.Mb(2,[(l()(),n.sb(0,0,null,null,0,"img",[["class","icon"]],[[8,"src",4],[8,"alt",0]],null,null,null,null))],null,(function(l,t){var e=t.component;l(t,0,0,e.imageSource,e.summary)}))}class H{}var X=n.qb({encapsulation:2,styles:[],data:{}});function A(l){return n.Mb(0,[(l()(),n.sb(0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),n.sb(1,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),n.Kb(2,null,["",""])),n.Gb(3,2),(l()(),n.sb(4,16777216,null,null,2,"app-weather-icon",[["matTooltipPosition","below"]],null,[[null,"longpress"],[null,"keydown"],[null,"touchend"]],(function(l,t,e){var s=!0;return"longpress"===t&&(s=!1!==n.Db(l,5).show()&&s),"keydown"===t&&(s=!1!==n.Db(l,5)._handleKeydown(e)&&s),"touchend"===t&&(s=!1!==n.Db(l,5)._handleTouchend()&&s),s}),K,E)),n.rb(5,212992,null,0,v,[u.a,n.k,x.b,n.O,n.y,j.a,M.b,M.d,_,[2,I.b],[2,g],[2,B.f]],{position:[0,"position"],message:[1,"message"]},null),n.rb(6,49152,null,0,F,[],{name:[0,"name"],summary:[1,"summary"]},null),(l()(),n.sb(7,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),n.sb(8,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),n.Kb(9,null,[" ","\xb0 "])),n.Gb(10,2),(l()(),n.sb(11,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),n.Kb(12,null,[" ","\xb0 "])),n.Gb(13,2)],(function(l,t){var e=t.component;l(t,5,0,"below",null==e.forecast?null:e.forecast.summary),l(t,6,0,null==e.forecast?null:e.forecast.icon,null==e.forecast?null:e.forecast.summary)}),(function(l,t){var e=t.component,s=n.Lb(t,2,0,l(t,3,0,n.Db(t.parent,0),1e3*e.forecast.time,"EEE"));l(t,2,0,s);var i=n.Lb(t,9,0,l(t,10,0,n.Db(t.parent,1),null==e.forecast?null:e.forecast.temperatureHigh,"1.0-0"));l(t,9,0,i);var a=n.Lb(t,12,0,l(t,13,0,n.Db(t.parent,1),null==e.forecast?null:e.forecast.temperatureLow,"1.0-0"));l(t,12,0,a)}))}function z(l){return n.Mb(2,[n.Fb(0,C.e,[n.t]),n.Fb(0,C.f,[n.t]),(l()(),n.hb(16777216,null,null,1,null,A)),n.rb(3,16384,null,0,C.m,[n.O,n.L],{ngIf:[0,"ngIf"]},null)],(function(l,t){l(t,3,0,t.component.forecast)}),null)}var q=e("lzlj"),G=e("igqZ"),V=e("omvX");class Y{}var $=n.qb({encapsulation:0,styles:[[".current-weather[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.current-weather__visual[_ngcontent-%COMP%]{flex:1 1 50%}.current-weather__visual-summary[_ngcontent-%COMP%]{text-align:center;font-size:.9em}.current-weather__visual-container[_ngcontent-%COMP%]{display:flex}.current-weather__visual-icon[_ngcontent-%COMP%]{flex:1 1 50%}.current-weather__visual-temperature[_ngcontent-%COMP%]{flex:1 1 50%;text-align:center;font-size:3em}.current-weather__details[_ngcontent-%COMP%]{flex:1 1 50%;font-size:1.25em}.current-weather__details-label[_ngcontent-%COMP%]{color:#666}"]],data:{}});function N(l){return n.Mb(0,[(l()(),n.sb(0,0,null,null,31,"div",[["class","current-weather"]],null,null,null,null,null)),(l()(),n.sb(1,0,null,null,9,"div",[["class","current-weather__visual"]],null,null,null,null,null)),(l()(),n.sb(2,0,null,null,1,"div",[["class","current-weather__visual-summary"]],null,null,null,null,null)),(l()(),n.Kb(3,null,["",""])),(l()(),n.sb(4,0,null,null,6,"div",[["class","current-weather__visual-container"]],null,null,null,null,null)),(l()(),n.sb(5,0,null,null,2,"div",[["class","current-weather__visual-icon"]],null,null,null,null,null)),(l()(),n.sb(6,0,null,null,1,"app-weather-icon",[],null,null,null,K,E)),n.rb(7,49152,null,0,F,[],{name:[0,"name"],summary:[1,"summary"]},null),(l()(),n.sb(8,0,null,null,2,"div",[["class","current-weather__visual-temperature"]],null,null,null,null,null)),(l()(),n.Kb(9,null,[" ","\xb0 "])),n.Gb(10,2),(l()(),n.sb(11,0,null,null,20,"div",[["class","current-weather__details"]],null,null,null,null,null)),(l()(),n.sb(12,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),n.sb(13,0,null,null,1,"span",[["class","current-weather__details-label"]],null,null,null,null,null)),(l()(),n.Kb(-1,null,[" Humidity: "])),(l()(),n.Kb(15,null,[" ","% "])),n.Gb(16,2),(l()(),n.sb(17,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),n.sb(18,0,null,null,1,"span",[["class","current-weather__details-label"]],null,null,null,null,null)),(l()(),n.Kb(-1,null,[" Wind: "])),(l()(),n.Kb(20,null,[" "," kph ","\xb0 "])),n.Gb(21,2),(l()(),n.sb(22,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),n.sb(23,0,null,null,1,"span",[["class","current-weather__details-label"]],null,null,null,null,null)),(l()(),n.Kb(-1,null,[" Sunrise: "])),(l()(),n.Kb(25,null,[" "," "])),n.Gb(26,2),(l()(),n.sb(27,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),n.sb(28,0,null,null,1,"span",[["class","current-weather__details-label"]],null,null,null,null,null)),(l()(),n.Kb(-1,null,[" Sunset: "])),(l()(),n.Kb(30,null,[" "," "])),n.Gb(31,2)],(function(l,t){var e=t.component;l(t,7,0,null==e.forecast?null:e.forecast.icon,null==e.forecast?null:e.forecast.summary)}),(function(l,t){var e=t.component;l(t,3,0,null==e.forecast?null:e.forecast.summary);var s=n.Lb(t,9,0,l(t,10,0,n.Db(t.parent,0),null==e.forecast?null:e.forecast.temperature,"1.0-0"));l(t,9,0,s);var i=n.Lb(t,15,0,l(t,16,0,n.Db(t.parent,0),100*(null==e.forecast?null:e.forecast.humidity),"1.0-0"));l(t,15,0,i);var a=n.Lb(t,20,0,l(t,21,0,n.Db(t.parent,0),null==e.forecast?null:e.forecast.windSpeed,"1.0-0"));l(t,20,0,a,null==e.forecast?null:e.forecast.windBearing);var o=n.Lb(t,25,0,l(t,26,0,n.Db(t.parent,1),1e3*(null==e.forecast?null:e.forecast.sunriseTime),"H:mm"));l(t,25,0,o);var r=n.Lb(t,30,0,l(t,31,0,n.Db(t.parent,1),1e3*(null==e.forecast?null:e.forecast.sunsetTime),"H:mm"));l(t,30,0,r)}))}function U(l){return n.Mb(2,[n.Fb(0,C.f,[n.t]),n.Fb(0,C.e,[n.t]),(l()(),n.hb(16777216,null,null,1,null,N)),n.rb(3,16384,null,0,C.m,[n.O,n.L],{ngIf:[0,"ngIf"]},null)],(function(l,t){l(t,3,0,t.component.forecast)}),null)}class Z{}var J=n.qb({encapsulation:0,styles:[[".forecast-card[_ngcontent-%COMP%]{margin:1em;max-width:640px}.forecast-card__daily-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;margin-top:1em}.forecast-card__daily[_ngcontent-%COMP%]{flex:1 1;overflow:hidden;text-align:center}.forecast-card__powered-by-link[_ngcontent-%COMP%]{margin-top:1em;text-align:right;font-size:.75em}"]],data:{}});function Q(l){return n.Mb(0,[(l()(),n.sb(0,0,null,null,1,"app-forecast-short",[["class","forecast-card__daily"]],null,null,null,z,X)),n.rb(1,49152,null,0,H,[],{forecast:[0,"forecast"]},null)],(function(l,t){l(t,1,0,t.context.$implicit)}),null)}function W(l){return n.Mb(2,[n.Fb(0,C.e,[n.t]),(l()(),n.sb(1,0,null,null,20,"mat-card",[["class","forecast-card mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,q.d,q.a)),n.rb(2,49152,null,0,G.a,[[2,V.a]],null,null),(l()(),n.sb(3,0,null,0,8,"mat-card-header",[["class","mat-card-header"]],null,null,null,q.c,q.b)),n.rb(4,49152,null,0,G.d,[],null,null),(l()(),n.sb(5,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),n.rb(6,16384,null,0,G.g,[],null,null),(l()(),n.Kb(7,null,["",""])),(l()(),n.sb(8,0,null,1,3,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),n.rb(9,16384,null,0,G.f,[],null,null),(l()(),n.Kb(10,null,[" "," "])),n.Gb(11,2),(l()(),n.sb(12,0,null,0,9,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),n.rb(13,16384,null,0,G.c,[],null,null),(l()(),n.sb(14,0,null,null,1,"app-forecast-detailed",[],null,null,null,U,$)),n.rb(15,49152,null,0,Y,[],{forecast:[0,"forecast"]},null),(l()(),n.sb(16,0,null,null,2,"div",[["class","forecast-card__daily-container"]],null,null,null,null,null)),(l()(),n.hb(16777216,null,null,1,null,Q)),n.rb(18,278528,null,0,C.l,[n.O,n.L,n.r],{ngForOf:[0,"ngForOf"]},null),(l()(),n.sb(19,0,null,null,2,"div",[["class","forecast-card__powered-by-link"]],null,null,null,null,null)),(l()(),n.sb(20,0,null,null,1,"a",[["href","https://darksky.net/poweredby/"]],null,null,null,null,null)),(l()(),n.Kb(-1,null,["Powered by Dark Sky"]))],(function(l,t){var e=t.component;l(t,15,0,null==e.forecastCard?null:e.forecastCard.currently),l(t,18,0,null==e.forecastCard?null:e.forecastCard.daily)}),(function(l,t){var e=t.component;l(t,1,0,"NoopAnimations"===n.Db(t,2)._animationMode),l(t,7,0,null==e.forecastCard?null:null==e.forecastCard.forecastLocation?null:e.forecastCard.forecastLocation.name);var s=n.Lb(t,10,0,l(t,11,0,n.Db(t,0),1e3*(null==e.forecastCard?null:null==e.forecastCard.currently?null:e.forecastCard.currently.time),"EEEE, MMMM d y, H:mm"));l(t,10,0,s)}))}class ll{}var tl=n.qb({encapsulation:0,styles:[[".forecast-placeholder[_ngcontent-%COMP%]{margin:1em;max-width:640px}.forecast-placeholder__text-placeholder[_ngcontent-%COMP%]{display:inline-block;height:1em;width:10em;border-radius:.25em;background-color:rgba(0,0,0,.1)}.forecast-placeholder__detailed[_ngcontent-%COMP%]{width:100%;padding-top:calc(25% + .9em);border-radius:.5em;background-color:rgba(0,0,0,.1)}.forecast-placeholder__short[_ngcontent-%COMP%]{width:100%;margin-top:1em;padding-top:calc(100% / 7 + 2em);border-radius:.5em;background-color:rgba(0,0,0,.1)}.forecast-placeholder__powered-by-link[_ngcontent-%COMP%]{margin-top:1em;text-align:right;font-size:.75em}"]],data:{}});function el(l){return n.Mb(0,[(l()(),n.sb(0,0,null,null,16,"mat-card",[["class","forecast-placeholder mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,q.d,q.a)),n.rb(1,49152,null,0,G.a,[[2,V.a]],null,null),(l()(),n.sb(2,0,null,0,7,"mat-card-header",[["class","mat-card-header"]],null,null,null,q.c,q.b)),n.rb(3,49152,null,0,G.d,[],null,null),(l()(),n.sb(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),n.rb(5,16384,null,0,G.g,[],null,null),(l()(),n.sb(6,0,null,null,0,"span",[["class","forecast-placeholder__text-placeholder"]],null,null,null,null,null)),(l()(),n.sb(7,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),n.rb(8,16384,null,0,G.f,[],null,null),(l()(),n.sb(9,0,null,null,0,"span",[["class","forecast-placeholder__text-placeholder"]],null,null,null,null,null)),(l()(),n.sb(10,0,null,0,6,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),n.rb(11,16384,null,0,G.c,[],null,null),(l()(),n.sb(12,0,null,null,0,"div",[["class","forecast-placeholder__detailed"]],null,null,null,null,null)),(l()(),n.sb(13,0,null,null,0,"div",[["class","forecast-placeholder__short"]],null,null,null,null,null)),(l()(),n.sb(14,0,null,null,2,"div",[["class","forecast-placeholder__powered-by-link"]],null,null,null,null,null)),(l()(),n.sb(15,0,null,null,1,"a",[["href","https://darksky.net/poweredby/"]],null,null,null,null,null)),(l()(),n.Kb(-1,null,["Powered by Dark Sky"]))],null,(function(l,t){l(t,0,0,"NoopAnimations"===n.Db(t,1)._animationMode)}))}var nl=e("vkgz"),sl=e("eIep"),il=e("DQLy");const al=Object(il.w)("[Forecast effect] Load forecast",Object(il.C)()),ol=Object(il.w)("[Forecast effect] Fetch forecast",Object(il.C)()),rl=Object(il.w)("[Forecast effect] Fetch forecast success",Object(il.C)()),ul=Object(il.w)("[Forecast effect] Fetch forecast error",Object(il.C)());var cl=e("DRwZ");const hl=Object(cl.a)({selectId:l=>l.forecastLocation.id}),bl=hl.getInitialState(),dl=Object(il.y)(bl,Object(il.B)(rl,(l,{forecastLocation:t,forecast:e})=>hl.upsertOne(Object.assign({},e,{forecastLocation:t}),l)));function pl(l,t){return dl(l,t)}var fl=e("Yml6"),ml=e("LRne"),_l=e("lJxs"),yl=e("5+tZ"),gl=e("JIr8"),vl=e("QoB0");const wl=3e3;class Ol{constructor(l,t,e,n,s){this.activatedRoute=l,this.store=t,this.actions$=e,this.snackBar=n,this.darkSkyHttpService=s,this.loadForecast$=Object(fl.e)(()=>this.actions$.pipe(Object(fl.f)(al),Object(sl.a)(l=>this.store.select(vl.b).pipe(Object(_l.a)(t=>ol({forecastLocation:t[l.locationId]})))))),this.fetchForecast$=Object(fl.e)(()=>this.actions$.pipe(Object(fl.f)(ol),Object(yl.a)(l=>this.darkSkyHttpService.fetchForecast(l.forecastLocation).pipe(Object(_l.a)(t=>rl({forecastLocation:l.forecastLocation,forecast:t})),Object(gl.a)(t=>Object(ml.a)(ul({forecastLocation:l.forecastLocation,error:t}))))))),this.fetchForecastError$=Object(fl.e)(()=>this.actions$.pipe(Object(fl.f)(ul),Object(nl.a)(l=>{this.snackBar.open(`Error fetching forecast data for ${l.forecastLocation.name}`,"OK",{duration:wl})})),{dispatch:!1})}}const Cl=l=>{const t=l.forecastLocation,[e,...n]=l.daily.data;return{forecastLocation:t,currently:{time:l.currently.time,summary:l.currently.summary,icon:l.currently.icon,temperature:l.currently.temperature,humidity:l.currently.humidity,windSpeed:l.currently.windSpeed,windBearing:l.currently.windBearing,sunriseTime:e.sunriseTime,sunsetTime:e.sunsetTime},daily:n.map(l=>({time:l.time,icon:l.icon,summary:l.summary,temperatureHigh:l.temperatureHigh,temperatureLow:l.temperatureLow}))}},kl=Object(il.x)("forecast"),{selectEntities:Il}=hl.getSelectors(),Bl=Object(il.A)(kl,Il),Dl=(Object(il.A)(Bl,l=>Object.keys(l).map(t=>Cl(l[t])).sort((l,t)=>l.forecastLocation.order-t.forecastLocation.order)),Object(il.A)(Bl,(l,t)=>{const e=l[t.id];return e?Cl(e):null}));class jl{constructor(l,t){this.activatedRoute=l,this.store=t,this.forecastCard$=this.activatedRoute.params.pipe(Object(nl.a)(({id:l})=>this.store.dispatch(al({locationId:l}))),Object(sl.a)(({id:l})=>this.store.select(Dl,{id:l})))}}var Ml=e("iInd"),xl=n.qb({encapsulation:0,styles:[[".forecast-container[_ngcontent-%COMP%]{margin:0 auto;max-width:640px}"]],data:{}});function Ll(l){return n.Mb(0,[(l()(),n.sb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),n.sb(1,0,null,null,1,"app-forecast",[],null,null,null,W,J)),n.rb(2,49152,null,0,Z,[],{forecastCard:[0,"forecastCard"]},null)],(function(l,t){l(t,2,0,t.context.ngIf)}),null)}function Tl(l){return n.Mb(0,[(l()(),n.sb(0,0,null,null,1,"app-forecast-placeholder",[],null,null,null,el,tl)),n.rb(1,49152,null,0,ll,[],null,null)],null,null)}function Pl(l){return n.Mb(0,[(l()(),n.sb(0,0,null,null,4,"div",[["class","forecast-container"]],null,null,null,null,null)),(l()(),n.hb(16777216,null,null,2,null,Ll)),n.rb(2,16384,null,0,C.m,[n.O,n.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),n.Fb(131072,C.b,[n.h]),(l()(),n.hb(0,[["placeholder",2]],null,0,null,Tl))],(function(l,t){var e=t.component;l(t,2,0,n.Lb(t,2,0,n.Db(t,3).transform(e.forecastCard$)),n.Db(t,4))}),null)}function Sl(l){return n.Mb(0,[(l()(),n.sb(0,0,null,null,1,"app-forecast-container",[],null,null,null,Pl,xl)),n.rb(1,49152,null,0,jl,[Ml.a,il.o],null,null)],null,null)}var Rl=n.ob("app-forecast-container",jl,Sl,{},{},[]),Fl=e("IheW"),El=e("z6cu"),Kl=e("Cfvw");class Hl{constructor(){this.isEnabled="geolocation"in navigator}getCurrentPosition(){return this.isEnabled?Object(Kl.a)(new Promise((l,t)=>{navigator.geolocation.getCurrentPosition(l,t)})):Object(El.a)(new Error("Geolocation is not supported by the browser."))}}var Xl=e("Fwaw"),Al=e("dFDH");const zl="https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast";class ql{constructor(l,t){this.httpClient=l,this.appConfigService=t}fetchForecast(l){const{latitude:t,longitude:e}=l,n=[t,e].join(","),s=[zl,this.appConfigService.darkSkyApiKey,n].join("/"),i=(new Fl.g).set("exclude","minutely,hourly,alerts,flags").set("units","si");return this.httpClient.get(s,{params:i})}}var Gl=e("2XxF");class Vl{}e.d(t,"ForecastModuleNgFactory",(function(){return Yl}));var Yl=n.pb(s,[],(function(l){return n.Ab([n.Bb(512,n.j,n.ab,[[8,[i.a,i.b,S,R.a,Rl]],[3,n.j],n.w]),n.Bb(4608,C.o,C.n,[n.t,[2,C.z]]),n.Bb(4608,Fl.i,Fl.o,[C.d,n.A,Fl.m]),n.Bb(4608,Fl.p,Fl.p,[Fl.i,Fl.n]),n.Bb(5120,Fl.a,(function(l){return[l]}),[Fl.p]),n.Bb(4608,u.a,u.a,[u.g,u.c,n.j,u.f,u.d,n.q,n.y,C.d,I.b,[2,C.i]]),n.Bb(5120,u.h,u.i,[u.a]),n.Bb(4608,k.c,k.c,[]),n.Bb(5120,_,y,[u.a]),n.Bb(4608,B.e,D.c,[[2,D.g],[2,D.l]]),n.Bb(4608,Hl,Hl,[]),n.Bb(1073742336,C.c,C.c,[]),n.Bb(1073742336,Fl.e,Fl.e,[]),n.Bb(1073742336,Fl.d,Fl.d,[]),n.Bb(1073742336,I.a,I.a,[]),n.Bb(1073742336,D.l,D.l,[[2,D.d],[2,B.f]]),n.Bb(1073742336,G.e,G.e,[]),n.Bb(1073742336,c.f,c.f,[]),n.Bb(1073742336,j.b,j.b,[]),n.Bb(1073742336,x.c,x.c,[]),n.Bb(1073742336,u.e,u.e,[]),n.Bb(1073742336,D.u,D.u,[]),n.Bb(1073742336,Xl.c,Xl.c,[]),n.Bb(1073742336,Al.e,Al.e,[]),n.Bb(1073742336,k.d,k.d,[]),n.Bb(1073742336,M.a,M.a,[]),n.Bb(1073742336,O,O,[]),n.Bb(1024,il.M,(function(){return[{}]}),[]),n.Bb(1024,il.k,(function(){return[{key:"forecast",reducerFactory:il.u,metaReducers:[],initialState:void 0}]}),[]),n.Bb(1024,il.N,il.T,[n.q,il.M,il.k]),n.Bb(1024,il.L,(function(){return[pl]}),[]),n.Bb(1024,il.O,(function(l){return[l]}),[il.L]),n.Bb(1024,il.b,(function(l,t,e){return[il.U(l,t,e)]}),[n.q,il.L,il.O]),n.Bb(1073873408,il.p,il.p,[il.N,il.b,il.h,il.q]),n.Bb(512,Fl.l,Fl.l,[]),n.Bb(2048,Fl.j,null,[Fl.l]),n.Bb(512,Fl.h,Fl.h,[Fl.j]),n.Bb(2048,Fl.b,null,[Fl.h]),n.Bb(512,Fl.f,Fl.k,[Fl.b,n.q]),n.Bb(512,Fl.c,Fl.c,[Fl.f]),n.Bb(512,ql,ql,[Fl.c,Gl.a]),n.Bb(512,Ol,Ol,[Ml.a,il.o,fl.a,Al.b,ql]),n.Bb(1024,fl.k,(function(l){return[fl.g(l)]}),[Ol]),n.Bb(1073742336,fl.c,fl.c,[fl.d,fl.k,[2,il.q],[2,il.p]]),n.Bb(1073742336,Ml.m,Ml.m,[[2,Ml.r],[2,Ml.k]]),n.Bb(1073742336,Vl,Vl,[]),n.Bb(1073742336,s,s,[]),n.Bb(256,Fl.m,"XSRF-TOKEN",[]),n.Bb(256,Fl.n,"X-XSRF-TOKEN",[]),n.Bb(1024,Ml.i,(function(){return[[{path:"",children:[{path:":id",component:jl}]}]]}),[])])}))}}]);